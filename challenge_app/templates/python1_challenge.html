{% extends 'base.html' %}
{% load static %}

{% block content %}
<style>
    * {font-family: 'Spoqa Han Sans', 'Sans-serif';}

    a {text-decoration: none; color: black;}

    .week   {display:flex;
            flex-direction:row;
            justify-content:space-around;
            margin-right:2%; margin-left:2%;}

    .week img  {width:40px; 
                height:40px; 
                object-fit:cover;
                border-radius:100px;}

    .day    {display:flex;
            flex-direction:column;
            align-items:center;
            margin-right:2%;}


    .post-header   {height: 20%;
                    background-color: #666EE8;
                    color: white;
                    display: flex;
                    flex-direction: column;
                    justify-content: center;
                    align-items: flex-start;
                    margin-top: 5%; margin-bottom: 0%;}

    .post-header h2 {font-size: 22px; font-weight: 700;
                    margin-top: 5%; margin-bottom: 1%; margin-left: 5%;}

    .post-header p {margin-top: 1%; margin-bottom: 8%; margin-left: 5%;}

    .post {border-bottom: 2px solid rgba(0, 0, 0, 0.05);}

    .post-box   {width: 90%; height: 10%;
                display: flex;
                flex-direction: row;
                justify-content: space-between;
                align-items: center;
                margin: auto;}

    .post-left {display: flex;
                flex-direction: column;
                justify-content: center;}

    .post-topic {display: flex;
                flex-direction: row;
                align-items: center;
                margin-top: 0%; margin-bottom: 0%;}

    .post-info {display: flex;
                flex-direction: row;
                justify-content: flex-start;
                align-items: center;
                margin-top: 0%; margin-bottom: 0%;}

    .post-title {font-size: 18px; font-weight: 400; margin-right: 5%;}

    .post-comment   {color: #666EE8;}

    .post img {width: 8%; height: 5%;}
</style>


    <div class="challenge-header">
        <h2>매일 파이썬 학습하기 </h2>

        <p>기간: {{ start_date }} ~ {{ finish_date }}</p>
    </div>

    <div class = "week">
        <div class="day">
            <h3>1</h3>
            {% if challenge.day1 == 2 %}
                <img src="{% static 'img/check_yes.jpg' %}">
            {% elif challenge.day1 == 0 %}
                <img src="{% static 'img/check_off.jpg' %}">
            {% else %}
                <img src="{% static 'img/check_no.jpg' %}">
            {% endif %}
        </div>
        <div class="day">
            <h3>2</h3>
            {% if challenge.day2 == 2 %}
                <img src="{% static 'img/check_yes.jpg' %}">
            {% elif challenge.day2 == 0 %}
                <img src="{% static 'img/check_off.jpg' %}">
            {% else %}
                <img src="{% static 'img/check_no.jpg' %}">
            {% endif %}
        </div>
        <div class="day">
            <h3>3</h3>
            {% if challenge.day3 == 2 %}
                <img src="{% static 'img/check_yes.jpg' %}">
            {% elif challenge.day3 == 0 %}
                <img src="{% static 'img/check_off.jpg' %}">
            {% else %}
                <img src="{% static 'img/check_no.jpg' %}">
            {% endif %}
        </div>
        <div class="day">
            <h3>4</h3>
            {% if challenge.day4 == 2 %}
                <img src="{% static 'img/check_yes.jpg' %}">
            {% elif challenge.day4 == 0 %}
                <img src="{% static 'img/check_off.jpg' %}">
            {% else %}
                <img src="{% static 'img/check_no.jpg' %}">
            {% endif %}
        </div>
        <div class="day">
            <h3>5</h3>
            {% if challenge.day5 == 2 %}
                <img src="{% static 'img/check_yes.jpg' %}">
            {% elif challenge.day5 == 0 %}
                <img src="{% static 'img/check_off.jpg' %}">
            {% else %}
                <img src="{% static 'img/check_no.jpg' %}">
            {% endif %}
        </div>
        <div class="day">
            <h3>6</h3>
            {% if challenge.day6 == 2 %}
                <img src="{% static 'img/check_yes.jpg' %}">
            {% elif challenge.day6 == 0 %}
                <img src="{% static 'img/check_off.jpg' %}">
            {% else %}
                <img src="{% static 'img/check_no.jpg' %}">
            {% endif %}
        </div>
        <div class="day">
            <h3>7</h3>
            {% if challenge.day7 == 2 %}
                <img src="{% static 'img/check_yes.jpg' %}">
            {% elif challenge.day7 == 0 %}
                <img src="{% static 'img/check_off.jpg' %}">
            {% else %}
                <img src="{% static 'img/check_no.jpg' %}">
            {% endif %}
        </div>
    </div>


    <div class = "post-header">
        <h2>챌린지 교류방</h2>
        <p>궁금한 건 고민하지 말고 물어보세요!</p>
    </div>


    {% for user in users %}
    <div class="post">
        <div class="post-box">
            <section class="post-left">
                <article class="post-topic">
                    <a href="{% url 'pychal1_detail' user.id %}"><p class="post_title">{{ user.title }}</p></a>
                    <p class="post-comment">[ ]</p>
                </article>
                <article class="post-info">
                    <p class="post_writer">{{ user.author }}</p>
                    <p class="post_date">{{ user.date | date:"m.d H:i" }}</p>
                </article>
            </section>
            {% if user.photo %}
                <img src="{{ user.photo.url }}" alt="no image" width="300">
            {% endif %}
        </div>
    </div>
    {% endfor %}
    {% if users.has_other_pages %}
        <ul class="pagination">
            {% if users.has_previous %}
            <li><a href="?page={{ users.previous_page_number }}">&laquo;</a></li>
            {% else %}
            <li class="disabled"><span>&laquo;</span></li>
            {% endif %}
            {% for i in users.paginator.page_range %}
                {% if users.number == i %}
                    <li class="active"><span>{{ i }} <span class="sr-only">(current)</span></span></li>
                {% else %}
                    <li><a href="?page={{ i }}">{{ i }}</a></li>
                {% endif %}
            {% endfor %}
            {% if users.has_next %}
            <li><a href="?page={{ users.next_page_number }}">&raquo;</a></li>
            {% else %}
            <li class="disabled"><span>&raquo;</span></li>
            {% endif %}
        </ul>
    {% endif %}
    <a href="{% url 'pychal1_new' %}" class="button" role="button" data-bs-toggle="button">글 작성하기</a>

{% endblock %}